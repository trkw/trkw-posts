---
title: ErgoDoxが手に馴染んできたでしょうか？
date: 2016-10-12
layout: Post
tag: ErgoDox
badge: ergodox.svg
entryread: 独自キー配置についての理論と実践を推し進めます
authors:
  - miyaoka
---

# 約3週間経過

前回でひとまず自分なりのキー配置が完成したと思ったのですが、使っているうちに満足できないところがちらほらと出てきます。そうして試行錯誤していたらまたいろいろと変わってきました。

**[旧配列]**

![keyboard-layout](https://cloud.githubusercontent.com/assets/1443118/18747027/e0112034-8105-11e6-9d0a-700ee80da858.png)

↓

**[ニュー配列]**

![keyboard-layout](https://cloud.githubusercontent.com/assets/1443118/19155517/b8f16bf2-8c19-11e6-89e1-f5dd3ad73d16.png)


## 変更したポイント

- 親指ホームポジションの変更
- 一番押しやすい親指ホームポジションキーをタップ押しとホールドで使い分け
- 修飾キー（Shift, Cmd, Ctrl, Alt）を親指化
  - Windowsでも同じ感覚で使えるようにCmdキーをCtrlキーに上書き変更できる設定を追加
  - 右修飾キーは廃止、左修飾キーはdeprecated化
  - コンビネーション押ししやすいようにTabも中央化
- 3種類の括弧キーをワンキー化

以下、変更した点について感じたところや理由を書いていきます。

# 親指ホームポジションを誤解していた

![finger-2](https://cloud.githubusercontent.com/assets/1443118/19280004/d28d1ddc-901e-11e6-869c-5513c9250dc3.jpg)

前回の記事では独自レイヤーを使うための親指キーが重要だと書きましたが、そのときの親指ポジションはここでした。

しかし薄々感じていましたが、このボタンをホールドしていると親指の先で抑え続けることになり、ポジション的にはまあ悪くないのですが、押し心地があまり良くなくて指への負担があるという問題を抱えていました。

![finger-3](https://cloud.githubusercontent.com/assets/1443118/19280003/d28ba02e-901e-11e6-8e76-c2f8381cd9ba.jpg)

そこで左の大きいキーを親指ホールド用に使うようにしてみたら、まさに親指の形状にぴったり沿うようなゆとりがあり、親指全体をやさしく自然に載せられます。ErgoDoxの親指ホームポジションはここだ！と今更ながら気づきました。（ただ、ここには先にSpace/Enterを割り当ててしまっていたので、それでホールド用には使えなかったのです。）


![finger-4](https://cloud.githubusercontent.com/assets/1443118/19280006/d299dcb6-901e-11e6-87f4-562a9217df21.jpg)

ちなみにその隣のキーも大きくて実用的ですが、遠くなる分やはりベストからは一歩落ちる感じです。

![finger-5](https://cloud.githubusercontent.com/assets/1443118/19280005/d2948108-901e-11e6-957d-c87f0ff05c6b.jpg)

端っこのキーは写真を見れば分かるようにちょっとつらい感じです。

![finger-1](https://cloud.githubusercontent.com/assets/1443118/19280002/d28a3c84-901e-11e6-84c8-833e7d02058d.jpg)

逆に内側のキーはわりと押せます。ここは親指で操作するものなのかいまいち分かりませんが、上記の端っこのキーよりは使いやすいです。

# タップとホールドを使い分けるように設定

そんなわけで押しやすい大きいキーを親指ホールド用に設定したのですが、元々この位置で使用していたSpace/Enterキーを別のキーに移したらどうもしっくりきません。ホールドはこのキーにしたいし、頻繁に使うSpace/Enterもやはりこのキーでないと使いづらいのです。しかしそんな親指の特等席は一つしかありません。

そこで思い至ったのがTap/Hold押しそれぞれに別キーを割り当てる機能です。ErgoDoxのデフォルト配置でもZキーをホールドでCtrlにする設定があったのですが、そんなキワモノ機能なんて使わないなとすぐに削除していました。しかし今回のSpace/Enterで改めて設定してみたところ、使い分けに問題も無くスムーズに2つのキーを使えます。これはかなり便利に感じました。

# 修飾キーの親指化

前回の記事で書いたように「修飾キーを親指化すれば残りの4指はホームポジションからずれなくて済む」という考えを実践してみることにしました。

Cmd, Ctrl, Altはやはり左側にあったほうが左手コンビネーション的に良いのでそうします。するとShiftキーは右手側という配置になりました。

![finger-4](https://cloud.githubusercontent.com/assets/1443118/19280006/d299dcb6-901e-11e6-87f4-562a9217df21.jpg)

ここを親指ホールドでShiftです。

やはり慣れが必要ですが、想定していたとおり小指を伸ばしてホームポジションを崩すことが無くなるのでだいぶいい感触です。


## windows互換設定

基本的にはMacで使うことを前提にして設定していますが、Windowsでも使いたいのでなるべくこのへんを同じ感覚で扱えるようにしたいところです。

MacとWindowsの場合、キー自体が違うものがあり、MacのCmdキーはWindowsではWinキーになります。しかし実際の利用からするとMacのCmdキーにはWindowsのCtrlキーを割り当てたほうがだいたい同じになります。

そこでベースレイヤーを設定する機能を使って、そうした一部のキーは別レイヤーで上書きできるようにしました。MacのCmd、CtrlキーをWindowsレイヤーではそれぞれCtrl、Winキーと置き換えています。

[qmk_firmware/keymap.c at master · miyaoka/qmk_firmware](https://github.com/miyaoka/qmk_firmware/blob/master/keyboards/ergodox/keymaps/miyaoka/keymap.c)

詳しくはソースを見て確認してください。

## 従来の左右修飾キーの廃止

修飾キーを中央化したのでとりあえず右側のShiftは廃止して別キーに割り当てました。左側も廃止したいところですが、Shift+カーソル移動といった場合に右親指で2つホールドするのは無理なので左Shiftは残しています。

## Tabキーを中央化して便利ショートカットを簡易化

キーボード操作でよく使うショートカットとして、アプリ切り替え、ウィンドウ切り替え、タブ切り替えがあります。このへんはMac,Windowsともに (Shift +) Cmd/Alt + Tab なのでTabを中央化することにより同時押ししやすいようにしています。

# 3種の括弧キーをワンキーに統一

中央の左右に開き括弧と閉じ括弧を対称型に配置すると直感的なのですが、`[ ]`とShift押しで`{ }`、そして`( )`も配置すると合計4キー使うことになりなんとなく冗長でした。そこでレイヤーキー押し時には`( )`にすることで、ノーマル押し、Shift押し、レイヤーキー押しの3通りで一つのキーにまとめるようにしました。

# 次なる課題

- 記号類はプログラムでよく使うのに、右下の `, . / < > ?` が押しづらい
  - タイプライターのときの配置のままなんだから押しづらくて当たり前
  - Shiftキーを右手化したので余計に押しづらい
- Dvorakだと記号類が左上に配置されているらしい
- Dvorak、やってみてもいいんじゃないか
- いろいろキー配置をいじってきたが、中央10列×4段のアルファベット＋数字には手を付けていない
- ここを変更してしまったらいよいよ普通のキーボードが打てなくなりそうで怖い。引き返せないターニングポイント
