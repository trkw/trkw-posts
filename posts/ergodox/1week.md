---
title: ErgoDoxを使い始めて1週間になるのでしょうか？
date: 2016-09-22
layout: Post
tag: ErgoDox
badge: ergodox.svg
entryread: なんかいろいろ苦労しました
authors:
  - miyaoka
---

# 試行錯誤の1週間

なんかいろいろ苦労しました。

![typing1](https://cloud.githubusercontent.com/assets/1443118/18747292/7c369fec-8107-11e6-98fe-c16f4e478369.png)

最初はオフィスワークもままならなかったのですが

![typing2](https://cloud.githubusercontent.com/assets/1443118/18747294/7d5ccf7c-8107-11e6-8f7c-d235dfd5eacf.png)

少し打てるようになってきました。

## そもそも

無刻印キーボードを使うこと自体、今回が初めてです。

ErgoDoxを買ったのは自分だけのスペシャルなキーボード感を味わいたい！というのがまず第一なんですが、そもそも普段打ててるようでもなんかキーボード見ちゃったり、特に右手の記号群の認識が怪しかったりするので、そのへんをなんとかしようとタッチタイピング再入門するという目標もありました。

どうせキー配置は自分でいじるから刻印は必要無いし、キーを見ないならちゃんとタッチタイピングするしかないという強制的な矯正トレーニングが味わえるわけです。初心者に立ち返ってがんがん成長している感が得られるはけっこう楽しいです。

# 現状のキーレイアウト解説

レイアウトを考えてはタイピングし、タイピングしては気になってレイアウトを修正し、とセッティングに時間を費やしまくりましたが、やっと自分なりにある程度納得がいく形になってきました。

では結局どんな感じになったのか見ていきましょう。

[Keyboard Layout Editor](http://www.keyboard-layout-editor.com/) というサイトで下記の図のようにビジュアライズできるのでErgoDox使いの人はこれでこだわりポイントを紹介してくれると分かりやすいと思います。

## レイヤー1

![keyboard-layout](https://cloud.githubusercontent.com/assets/1443118/18747027/e0112034-8105-11e6-9d0a-700ee80da858.png)

基本レイヤーです。

緑色のアルファベット26文字＋記号4つは従来通りです。ただし一般的なキーボードではこの右側にその他の記号が押し込まれる構成になっています。

### つよいキー

スペース、エンター、BackSpaceあたりは事物を確定させるパワーに満ちた意思決定的に強いキーです。ならば強い気持ちで親指で押していきたいところです。配置的には左側から Space > Enter, BS と従来的な並びでないとどうにも慣れない感があったのでそうしてます。

最初のうちはSpaceの右隣にBSを配置していたんですが、近いとどうにも打ち間違えることが多く、誤BSはダメージが大きいこともあるので、右手の奥まったところに変更しました。

### 日本語入力切り替え

日本語キーボードでも英字キーボードだろうと、日本語切り替えは必ず非トグル式にしています。トグルだと現在の入力状態を意識して反転させなければいけないわけじゃないですか。そんなものがデフォルトだったりするのは間違いなくバッドUIだと思うんですがどうなってるんですか世の中。トグルやめろは家訓にしてもいいくらいです。

そんなわけでかなと英数の2キー構成です。こいつも親指ゾーンに配置しました。

[Can't use KC_LANG1 & KC_LANG2 key · Issue #312 · jackhumbert/qmk_firmware](https://github.com/jackhumbert/qmk_firmware/issues/312)

ErgoDoxのファームウェアに日本人ユーザーがコミットしてくれたおかげで Lang1,Lang2 というキーで入力切替できるんですが、MacではOKでも、どうにもウチのWindowsだとうまく認識されなかったので、結局マクロを設定してLangキーと変換・無変換キーを一緒に出力するようにしました。

### 修飾キー

水色のCtrl、Shift、Alt、Cmd（winキー）は他のキーとのコンビネーションで働くキーです。つまりホールドする必要があります。ホールドするのは親指か小指の役目でしょう。

しかし仮にここでホールドを全て親指に任せることができれば、残りの4本の指はホームポジションから離れずに済みます。左右のshiftを使い分ける必要もありません。普通のキーボードではただの夢物語ですが、ErgoDoxだったら出来るのではないでしょうか。それはすごく魅力的なことだとは思いませんか！

しかしながら、Ctrl+AやCtrl+SなどCtrl周りに集約された強固なショートカット群が長年染み付いてしまっているために、そう簡単には行かない感じはしました。また、修飾キー同士でのコンビネーションも考えると、親指だけで運用できるようにレイアウトをよく考える必要があります。そして最終的にそんなレイアウトを身につけてしまったら、もう普通のキーボードが打てない体になるという懸念もあります。

でもshiftキーの親指化くらいはいずれ試してみたいところです。

### あぶれた記号たち

普通の文章を書くだけなら大して使わない記号群でも、エンジニア的には大事なキーです。しかしながらあのへんの記号って、後から拡張された結果として右小指の押しづらい位置に適当に配置されたのだろうし、もともとこの辺のキーはろくに押せてなかったので、気楽に再配置しました。とりあえずカッコは真ん中で対称型です。

あと右端のshiftの上はクォート（アポストロフィ）だったんですが、ここを長音にしてみたら日本語を書くときにかなり便利だなと思いました。でも英文をタイプしてみると I'm などアポストロフィを多用するのでなるほどこれも一理あると感じました。

### ファンクションキー

基本的には後述の第2レイヤーに設定してあります。例外的にF10だけ置いてあります。これは日本語入力のまま英字を打ってしまったときに変えるやつです。あと全部カタカナにする用にF7も隣に設定してたんですが、紆余曲折を経てBSがそこに来たのでそれ以来設定してません。まあ第2レイヤー使えばいいだけなのでF10も削ると思います。

あとF13-16は普通使わないので、なんかショートカット設定するとき用のものとして予備的に入れておきました。でもMacだとF14とF15で画面の明るさを変えるという設定がデフォルトであることに気づいたのでF20くらいにするかもしれません。

### 空欄キー

最初はいろいろキー設定してたけど、押しづらくて使いこなせないので消しました。

左右端や真ん中の括弧のあたりも第2レイヤーに押し込めればたぶん要らなくなると思います。

## レイヤー2

![keyboard-layout2](https://cloud.githubusercontent.com/assets/1443118/18747028/e1049674-8105-11e6-883b-ddba94a50579.png)

カーソルとマウスのレイヤーです。黄色のキーをホールドしている間だけこのレイヤーに切り替わるように設定してます。

### マウス操作

- 緑：ESDFキーでマウス移動
- 水色：マウスホイール
- 赤色：マウスクリック

ErgoDoxはマウス移動も設定できるので、CUI操作のついでにちょっとしたGUI操作という分にはなかなか使えます。**意地でもホームポジションから手を離さないぞ！**という漢らしい意志が完遂できるのが良いところです。

ただ、気づくと**マウス使ったほうが速い**ということも多々あります。

### カーソル操作

- 緑：IJKLキーでカーソル移動
- 水色：ページ移動

こっちは普通に便利ですね。従来のカーソルキーに比べて、ホームポジションから手を離さないという利点はかなり強く、とても実用的です。

自分はサーバーで作業するときくらいしかVimを使わないので、Vimmerライクな横一列の`HJKL`でのカーソル移動がどうにも不慣れです。その代わりPCゲマーなので凸型配置で直感的なWASD移動は大好きです。

なので最初のうちは左手でカーソル移動しようとWASDに割り当てていたんですが、親指のマウスクリックも使おうとするとホームポジションから小指側に一つずれているWASDでは親指を使うのが難しく感じました。

では何故WASDなのか。ここでPCゲームにおけるWASDの変遷を改めて振り返ってみましょう。

> - [Videogamedrome: FPSにおけるWASD設定の起源について1 [はじまりはいつもDoom編]](http://vgdrome.blogspot.jp/2015/09/fpswasd1-doom.html)
> - [Videogamedrome: FPSにおけるWASD設定の起源について2 [Quake覇者とHalf-Life編]](http://vgdrome.blogspot.jp/2015/11/fpswasd2-quakehalf-life.html)

- 最初はキーボードのみの操作で右手矢印キー移動＋左手アクションだった
- マウスを併用したほうが精密で強いことが明らかになり、左手キーボードと右手マウスで戦うスタイルになった。
- その当時流行っていたDoom2は武器選択が数字キーでコンフィグ不可だったため、重要な7キーまで左手で押せるように`RDFG`や`ESDF`キーが使われるスタイルが確立した。
- 後発のQuakeでキーコンフィグできるようになると左手ホームポジション周りだけで効率的に押せるようにキーが集約され、さらにはPCゲームのような激しい戦場で生き抜く上で、小指の力の弱さ、不精密さが浮き彫りになったため左にシフトした`WASD`スタイルが確立された。

### つまりどういうことだっていうのか

**ゲーム好きでも今回のレイアウトではWASD使う必要ない**

のでホームポジションを優先したESDFを使います。右手も同様に対称的なIJKL配置に至りました。

ちなみにWASDってなんとなく頭のなかでワスドって読んでたんですが、以前に英語圏のゲーム配信者がワズディーって言ってて、そうか was + D なんだなーって納得したので、これからは人前でワズディーって言っていきたいです。


# 設定ファイル

[qmk_firmware/keymap.c at master · miyaoka/qmk_firmware](https://github.com/miyaoka/qmk_firmware/blob/master/keyboards/ergodox/keymaps/miyaoka/keymap.c)

キーマップのソースファイルはこちらです。



![img_5301](https://cloud.githubusercontent.com/assets/1443118/18747578/11d6b39c-8109-11e6-9936-5f85f2acce31.JPG)

重要な親指キーのようす
